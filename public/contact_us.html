<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Contact Us</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/contact_us.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”ë¥¼ DOMContentLoaded ì´ë²¤íŠ¸ì—ì„œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            const supabaseUrl = 'https://wqetnltlnsvjidubewia.supabase.co';
            const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndxZXRubHRsbnN2amlkdWJld2lhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3NzI5NDksImV4cCI6MjA1ODM0ODk0OX0.-Jw0jqyq93rA7t194Kq4_umPoTci8Eqx9j-oCwoZc6k';
            window.supabase = supabase.createClient(supabaseUrl, supabaseKey);
        });
    </script>
</head>
<body class="scroll-lock">

<header class="sticky top-0 z-40 w-full bg-white p-5">
    <nav class="flex items-center justify-between max-w-[1200px] mx-auto">
        <img src="/image/logo.png" class="cursor-pointer" onclick="location.href='/index.html'" alt="logo">
        <ul class="flex gap-8">
            <li><a href="/contact_us.html" class="nav-link">ê³µì§€ì‚¬í•­</a></li>
            <li><a href="/contact_us.html?pageNum=1&category_id=2" class="nav-link">FAQ</a></li>
            <li><a href="#" class="nav-link" onclick="checkLoginAndRedirect('/reservation.html')">ì˜ˆì•½í•˜ê¸°</a></li>
            <li><a href="/mypage.html" class="nav-link" style="display: inline-flex; align-items: center; white-space: nowrap;"><img src="/image/mypage.png" alt="ë§ˆì´í˜ì´ì§€" style="margin-right: 5px;"> MY</a></li>
        </ul>
    </nav>
    <div id="side_btn_group"
         class="w-[45px] h-[100px] rounded-[20px] z-50 absolute top-[70vh] right-10 flex flex-col justify-evenly items-center">
        <span class="w-[35px] h-[35px] rounded-[50%] border border-white flex justify-start items-center cursor-pointer"
              onclick="window.scrollTo({top:0,behavior:'smooth'})">
            <p class="text-white text-xl rotate-90 pb-[17px]">&lt;</p>
        </span>
        <span class="w-[35px] h-[35px] rounded-[50%] flex justify-center items-center bg-[url('/image/darkBalloon.png')] bg-no-repeat cursor-pointer"
              onclick="window.open('http://pf.kakao.com/_Kxgsxfn','_blank','width=500,height=630')">
            <p class="text-white text-xs font-bold tracking-[-0.5px] pl-[3px] pb-[2px]">Ch+</p>
        </span>
    </div>
</header>
<div id="container">

    <div class="main_text">
        <p id="changeText">ê³µì§€ì‚¬í•­</p>
    </div>

    <div class="post_list">
        <div id="board-div" class="content">
<!--            <table class="notice-table">-->
<!--                <thead>-->
<!--                <tr>-->
<!--                    <th>ë²ˆí˜¸</th>-->
<!--                    <th>ì¹´í…Œê³ ë¦¬</th>-->
<!--                    <th>ì œëª©</th>-->
<!--                    <th class="notice-views">ì¡°íšŒìˆ˜</th>-->
<!--                    <th class="date">ë‚ ì§œ</th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--                <tbody id="board">-->

<!--                </tbody>-->
<!--            </table>-->
        </div>
<!--        <button onclick="postClick()" class="post-writing">ê¸€ì“°ê¸°</button>-->
    </div>

    <div id="post-modal" class="post-modal-c hidden">
        <div class="post-modal-content">
            <div class="post-detail">
                <p>ê¸€ì‘ì„±</p>

                <label for="post-title">ì œëª©</label>
                <input type="text" id="post-title" placeholder="Please enter a title."/>

                <label for="post-category">ì¹´í…Œê³ ë¦¬</label>
                <select id="post-category">
                    <option value="1">ê³µì§€</option>
                    <option value="2">FAQ</option>
                </select>

                <label for="post-name">ì‘ì„±ì</label>
                <input type="text" id="post-name" placeholder="Please enter the author name."/>

                <label for="post-content">ë‚´ìš©</label>
                <textarea id="post-content" placeholder="Please enter the contents."></textarea>

                <label for="post-image-url" class="file-upload-label"> ğŸ“ íŒŒì¼ ì„ íƒ</label>
                <input type="file" id="post-image-url" name="file" accept="image/*"/>
                <span id="file-name">ì„ íƒëœ íŒŒì¼ ì—†ìŒ</span>
                <img id="image-preview" style="max-width: 100%; margin-top: 10px; display: none;" alt="ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€"/>

                <label for="post-password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="post-password" value=""/>

                <div>
                    <div class="button-container">
                        <button id="submit-post">ë“±ë¡</button>
                        <button onclick="cancelModalClose()" id="cancel-post">ì·¨ì†Œ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="notice-modal" class="update-notice hidden">
        <div class="modal-div post-modal-content post-detail">
            <div>
                <p>ê¸€ìˆ˜ì •</p>
            </div>
            <div>
                <div>
                    <span>No.<h3 id="update-id"></h3></span>

                    <span>ë‚ ì§œ<h3 id="update-date"></h3></span>

                    <span>ì¡°íšŒìˆ˜<h3 id="update-views"></h3></span>
                </div>
                ì œëª© <input id="update-title" type="text" class="update-input">

                ë‚´ìš©<textarea id="update-content"></textarea>

                ì‘ì„±ì<input type="text" id="update-name"/>

                ë¹„ë°€ë²ˆí˜¸ <input type="password" id="update-password" readonly/>

                ì¹´í…Œê³ ë¦¬
                <select id="update-category">
                    <option value="1">ê³µì§€</option>
                    <option value="2">FAQ</option>
                    <option value="3">Q&A</option>
                </select>

                <p>ì—…ë¡œë“œëœ íŒŒì¼</p>
                <label for="post-image-url" class="file-upload-label"> ğŸ“ íŒŒì¼ ì„ íƒ</label>
                <!--                <img id="update-image" src="" alt="Uploaded Image"/>-->
                <p id="update-file"></p>

            </div>
            <div class="button-container">
                <button id="submit-update">ìˆ˜ì •</button>
                <button onclick="noticemodalClose();" id="cancel-update">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <div id="notice-detail-container" style="margin-top: 30px; display: none;">
        <h2 id="notice-title">ì œëª©</h2>
        <p id="notice-date">ë‚ ì§œ</p>
        <hr>
        <img id="update-image" src="" alt="" style="max-width:100%; margin-bottom: 20px;">
        <div id="notice-content">ë‚´ìš©</div>
        <div class="list_home">
            <button onclick="goBackToList()">ëª©ë¡ìœ¼ë¡œ</button>
        </div>
    </div>

    <div id="paging-container" class="post-paging"></div>

</div>

<script>
// ë¡œê·¸ì¸ ì²´í¬ ë° ë¦¬ë‹¤ì´ë ‰íŠ¸ í•¨ìˆ˜
function checkLoginAndRedirect(targetUrl) {
    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ í™•ì¸
    const userInfo = localStorage.getItem('userInfo');
    const isLoggedIn = localStorage.getItem('isLoggedIn');
    
    if (!isLoggedIn || !userInfo) {
        // ë¡œê·¸ì¸ë˜ì§€ ì•Šì€ ê²½ìš° ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        Swal.fire({
            icon: 'warning',
            title: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤',
            text: 'ì˜ˆì•½ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ë ¤ë©´ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
            confirmButtonText: 'ë¡œê·¸ì¸í•˜ê¸°',
            showCancelButton: true,
            cancelButtonText: 'ì·¨ì†Œ',
            confirmButtonColor: '#0066CC',
            customClass: {
                icon: 'swal2-icon-custom'
            }
        }).then((result) => {
            if (result.isConfirmed) {
                // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ (mypage.htmlì´ ë¡œê·¸ì¸ í˜ì´ì§€ì¸ ê²ƒìœ¼ë¡œ ê°€ì •)
                window.location.href = '/mypage.html';
            }
        });
        return false;
    }
    
    // ë¡œê·¸ì¸ëœ ê²½ìš° ëª©í‘œ í˜ì´ì§€ë¡œ ì´ë™
    window.location.href = targetUrl;
    return true;
}

// SweetAlert ì•„ì´ì½˜ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼
const style = document.createElement('style');
style.textContent = `
    .swal2-icon-custom {
        color: #0066CC !important;
    }
    .swal2-icon-custom .swal2-icon-content {
        color: #0066CC !important;
    }
    div:where(.swal2-icon).swal2-warning {
        border-color: #0066CC !important;
    }
    div:where(.swal2-icon).swal2-warning [class^='swal2-warning-circular-line'] {
        border-color: #0066CC !important;
    }
`;
document.head.appendChild(style);
</script>

</body>
</html>
<script src="/js/contact_us.js"></script>