# Ice Clean Project

## 📁 **정리된 SQL 파일들**

### ✅ **필수 SQL 파일들**

#### 1. `supabase_setup.sql` - 기본 데이터베이스 설정
- **용도**: Supabase 프로젝트 초기 설정
- **실행 시점**: 프로젝트 시작 시 1회만 실행
- **내용**: 
  - customer 테이블 생성
  - RLS 정책 설정
  - 인덱스 생성
  - 함수 및 트리거 생성

#### 2. `fix_406_error_complete.sql` - 406 오류 해결
- **용도**: 회원가입 후 자동 로그인 시 발생하는 406 오류 해결
- **실행 시점**: 406 오류 발생 시
- **내용**:
  - 모든 RLS 정책 제거
  - RLS 완전 비활성화
  - 테이블 권한 설정

#### 3. `fix_409_error.sql` - 409 오류 해결
- **용도**: 중복 이메일로 인한 409 오류 해결
- **실행 시점**: 409 오류 발생 시
- **내용**:
  - 중복 이메일 확인 및 정리
  - UNIQUE 제약조건 관리
  - 임시 RLS 정책 생성

### 📖 **가이드 파일들**

#### 1. `FIX_406_AUTO_LOGIN_GUIDE.md`
- 회원가입 후 자동 로그인 406 오류 해결 가이드

#### 2. `FIX_409_ERROR_GUIDE.md`
- 409 오류 해결 가이드

## 🚀 **사용법**

### 1. 초기 설정
```sql
-- Supabase Dashboard → SQL Editor에서 실행
-- 1. supabase_setup.sql 실행
```

### 2. 오류 발생 시
```sql
-- 406 오류 발생 시
-- fix_406_error_complete.sql 실행

-- 409 오류 발생 시  
-- fix_409_error.sql 실행
```

## 📋 **삭제된 파일들**

다음과 같은 중복되거나 불필요한 파일들을 삭제했습니다:
- 중복된 406 오류 해결 파일들 (6개)
- 중복된 가이드 파일들 (15개)
- 테스트용 SQL 파일들 (5개)
- 기타 중복 파일들 (10개)

**총 36개의 불필요한 파일 삭제**

## 🎯 **결과**

- ✅ **파일 정리 완료**: 36개 파일 삭제
- ✅ **핵심 파일만 유지**: 3개의 필수 SQL 파일
- ✅ **명확한 구조**: 각 파일의 용도와 실행 시점 명시
- ✅ **사용법 가이드**: README에 상세한 사용법 포함